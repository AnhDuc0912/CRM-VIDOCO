/* Validation Styles */
.is-invalid {
    border-color: #dc3545 !important;
    padding-right: calc(1.5em + 0.75rem);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath d='m5.8 3.6-.6.6L6.6 6 5.2 7.4l.6.6L7.2 6.6 8.6 8l.6-.6L7.8 6l1.4-1.4-.6-.6L7.2 5.4 5.8 4z'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right calc(0.375em + 0.1875rem) center;
    background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
}

.is-valid {
    border-color: #198754 !important;
    padding-right: calc(1.5em + 0.75rem);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='m2.3 6.73.13-.13L4.3 4.72l1.86 1.87.13.13.13-.13L8.23 4.7l.13-.13-.13-.13L6.37 2.58 4.5.7l-.13-.13-.13.13L2.38 2.58.52 4.44l-.13.13.13.13 1.86 1.86z'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right calc(0.375em + 0.1875rem) center;
    background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
}

.invalid-feedback {
    width: 100%;
    margin-top: 0.25rem;
    font-size: 0.875em;
    color: #dc3545;
    display: block;
}

.valid-feedback {
    width: 100%;
    margin-top: 0.25rem;
    font-size: 0.875em;
    color: #198754;
}

/* Select validation */
.form-select.is-invalid {
    border-color: #dc3545;
    padding-right: calc(0.75em + 2.3125rem);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e"), url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath d='m5.8 3.6-.6.6L6.6 6 5.2 7.4l.6.6L7.2 6.6 8.6 8l.6-.6L7.8 6l1.4-1.4-.6-.6L7.2 5.4 5.8 4z'/%3e%3c/svg%3e");
    background-position: right 0.75rem center, center right 2.25rem;
    background-size: 16px 12px, calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
}

.form-select.is-valid {
    border-color: #198754;
    padding-right: calc(0.75em + 2.3125rem);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e"), url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='m2.3 6.73.13-.13L4.3 4.72l1.86 1.87.13.13.13-.13L8.23 4.7l.13-.13-.13-.13L6.37 2.58 4.5.7l-.13-.13-.13.13L2.38 2.58.52 4.44l-.13.13.13.13 1.86 1.86z'/%3e%3c/svg%3e");
    background-position: right 0.75rem center, center right 2.25rem;
    background-size: 16px 12px, calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
}

/* Checkbox và Radio validation */
.form-check-input.is-invalid {
    border-color: #dc3545;
}

.form-check-input.is-invalid:checked {
    background-color: #dc3545;
    border-color: #dc3545;
}

.form-check-input.is-invalid:focus {
    border-color: #dc3545;
    box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.25);
}

.form-check-input.is-invalid ~ .form-check-label {
    color: #dc3545;
}

/* Tab validation indicator */
.nav-link.has-error {
    position: relative;
}

.nav-link.has-error::after {
    content: "";
    position: absolute;
    top: 50%;
    right: 10px;
    transform: translateY(-50%);
    width: 8px;
    height: 8px;
    background-color: #dc3545;
    border-radius: 50%;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% {
        transform: translateY(-50%) scale(0.95);
        box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.7);
    }

    70% {
        transform: translateY(-50%) scale(1);
        box-shadow: 0 0 0 10px rgba(220, 53, 69, 0);
    }

    100% {
        transform: translateY(-50%) scale(0.95);
        box-shadow: 0 0 0 0 rgba(220, 53, 69, 0);
    }
}

/* Loading button state */
.btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* Submit button styling */
#submit-btn {
    min-width: 150px;
    transition: all 0.3s ease;
}

#submit-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

#submit-btn .spinner-border-sm {
    width: 1rem;
    height: 1rem;
}

/* Tab content spacing */
.tab-content {
    min-height: 400px;
}

/* Force validation style cho tab không active */
.tab-pane:not(.active) .is-invalid {
    border-color: #dc3545 !important;
}

.tab-pane:not(.active) .is-valid {
    border-color: #198754 !important;
}

/* Form section spacing */
.form-section {
    margin-bottom: 2rem;
}

/* Error summary box */
.validation-summary {
    background-color: #f8d7da;
    border: 1px solid #f5c6cb;
    color: #721c24;
    padding: 0.75rem 1.25rem;
    margin-bottom: 1rem;
    border-radius: 0.375rem;
}

.validation-summary h6 {
    margin-bottom: 0.5rem;
    font-weight: 600;
}

.validation-summary ul {
    margin-bottom: 0;
    padding-left: 1.5rem;
}

.validation-summary li {
    margin-bottom: 0.25rem;
}

/* Success summary box */
.success-summary {
    background-color: #d4edda;
    border: 1px solid #c3e6cb;
    color: #155724;
    padding: 0.75rem 1.25rem;
    margin-bottom: 1rem;
    border-radius: 0.375rem;
}

/* Responsive adjustments */
@media (max-width: 576px) {
    .invalid-feedback {
        font-size: 0.8125rem;
    }

    .nav-link.has-error::after {
        right: 5px;
        width: 6px;
        height: 6px;
    }
}

/* Dependent rows validation */
.dependent-row.has-error {
    background-color: rgba(220, 53, 69, 0.1);
    border: 1px solid rgba(220, 53, 69, 0.2);
    border-radius: 0.375rem;
    padding: 0.5rem;
    margin-bottom: 1rem !important;
}

/* Focus styles for better accessibility */
.form-control:focus,
.form-select:focus {
    border-color: #86b7fe;
    outline: 0;
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}

.form-control.is-invalid:focus,
.form-select.is-invalid:focus {
    border-color: #dc3545;
    box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.25);
}

.form-control.is-valid:focus,
.form-select.is-valid:focus {
    border-color: #198754;
    box-shadow: 0 0 0 0.25rem rgba(25, 135, 84, 0.25);
}
